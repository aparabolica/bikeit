<article id="review-{{review.ID}}" class="list-item review-list-item row"><div class="container"><div class="four columns"><header class="review-header"><div ng-show="review.placeData" class="review-place"><h3><a ui-sref="placesSingle({placeId: review.placeData.ID})">{{review.placeData.title}}</a></h3></div><div class="review-author"><img ng-src="{{review.author.avatar}}"><h3> <a ui-sref="user({userId: review.author.ID})">{{review.author.name}}</a></h3></div><p class="date"><a ui-sref="placesSingle.singleReview({placeId: review.place, reviewId: review.ID})">{{labels('Published')}} {{review.date | formatDate:'L'}}</a></p><p ng-show="canDeleteReview(review)"><a href="javascript:void(0);" ng-click="deleteReview(review)" class="delete">{{labels('Delete review')}}</a></p><div class="clear"></div><div class="review-ratings"><p class="rate clearfix"><span class="label">{{labels('Rating')}}:</span><span class="info">{{getReviewApproval()}}</span></p><p class="structure clearfix"><span class="label">{{labels('Structure')}}:</span><ratings type="structure" rating="{{review.rating.structure}}"></ratings></p><p class="kindness clearfix"><span class="label">{{labels('Kindness')}}:</span><ratings type="kindness" rating="{{review.rating.kindness}}"></ratings></p></div></header></div><div class="eight columns"><section class="review-content"><div ng-bind-html="getReviewContent()"></div><section ng-show="review.images.length" ng-class="{open: isGallery}" class="review-images"><ul class="review-image-list"><div class="clearfix"><li ng-repeat="image in review.images" class="review-image"><a href="javascript:void(0);" ng-click="openGallery(image)"><img ng-src="{{image.thumb}}"></a></li></div></ul><p ng-click="toggleGallery()" ng-hide="single" class="toggle-gallery"><span ng-show="isGallery">{{labels('Close image gallery')}}</span><span ng-hide="isGallery">{{labels('Show image gallery')}}</span></p></section></section><section class="review-comments"><div class="comment-buttons"><div class="vote"><a href="javascript:void(0);" ng-click="vote('up')" ng-class="{active: review.user_vote == 'up'}" class="upvote vote-button"><span class="icon-thumbs-up"></span>{{review.votes.up}}</a><a href="javascript:void(0);" ng-click="vote('down')" ng-class="{active: review.user_vote == 'down'}" class="downvote vote-button"><span class="icon-thumbs-down"></span>{{review.votes.down}}</a></div><a href="javascript:void(0);" ng-click="toggleComments()" class="button comment-review">{{labels('Reply this review')}}</a></div><div class="clear"></div><div ng-show="displayComments" class="comments-content"><div ng-show="comments" class="comment-list"><article ng-repeat="comment in comments" class="comment-item clearfix"><header class="comment-header clearfix"><img ng-src="{{comment.author.avatar}}"><h3>{{comment.author.name}}</h3><p class="date">{{comment.date | formatDate:'LLLL'}}</p></header><div ng-bind-html="getCommentContent(comment)" class="comment-body"></div></article></div><div class="reply"><p ng-hide="user">Você deve estar logado para comentar</p><form ng-submit="publishComment(newComment)" ng-show="user"><p><label for="comment_input">Escreve seu comentário abaixo:</label><textarea id="comment_input" placeholder="Mensagem" ng-model="newComment"></textarea></p><input type="submit" value="{{labels('Publish comment')}}"></form></div></div></section></div></div></article>