<div ng-hide="user" ng-include="loginTemplate"></div><div ng-show="user"><section id="new-place"><h2> <span ng-hide="edit.ID">{{edit.osm_id ? labels('Adding') + ' ' + edit.name : labels('New place')}}</span><span ng-show="edit.ID">{{labels('Editing') + ' ' + edit.name}}</span></h2><form ng-submit="submit(edit)"><a href="javascript:void(0);" ng-show="edit.osm_id &amp;&amp; !edit.ID" ng-click="clearPlace()">{{labels('Clear data (register new place)')}}</a><p class="name"><label for="input_place_name">{{labels('Name')}}</label><input id="input_place_name" type="text" ng-model="edit.name" ng-disabled="edit.osm_id"></p><div ng-hide="(edit.lat &amp;&amp; edit.lon) || edit.ID" class="address-search"><p><label for="input_place_search">{{labels('Search address')}}</label><input id="input_place_search" type="text" ng-model="search"></p><ul ng-show="searchResults"><li ng-repeat="address in searchResults" ng-click="selectAddress(address)">{{address.address | osmAddress}}</li></ul></div><div ng-show="(edit.lat &amp;&amp; edit.lon) || edit.ID" class="address-details"><p class="road"><label for="input_place_road">{{labels('Address')}}</label><input id="input_place_road" type="text" ng-model="edit.road" value="{{edit.address.road}}" ng-disabled="edit.osm_id &amp;&amp; edit.address.road"></p><p class="number"><label for="input_place_number">{{labels('Number')}}</label><input id="input_place_number" type="text" ng-model="edit.number" value="{{edit.address.house_number}}"></p><p class="district"><label for="input_place_district">{{labels('District')}}</label><input id="input_place_district" type="text" ng-model="edit.district" value="{{edit.address.city_district}}" ng-disabled="edit.osm_id &amp;&amp; edit.address.city_district"></p></div><p ng-show="edit.lat &amp;&amp; edit.lon" class="category"><label for="input_place_category">{{labels('Category')}}</label><select id="input_place_category" ng-model="edit.category" ng-options="category.term_id as category.name for category in categories"></select></p><div ng-show="edit.lat &amp;&amp; edit.lon" class="map"><label>{{labels('Exact location')}}</label><p class="tip">{{labels('Please center the map on the exact location of the place you\'d like to review.')}}</p><div class="map-container"><leaflet id="new-place-map" defaults="map.defaults" center="map.center" controls="map.controls"></leaflet><!-- p(ng-bind="edit.lat + ' ' + edit.lon")--></div></div><input type="submit" ng-show="edit.lat &amp;&amp; edit.lon &amp;&amp; !edit.ID" value="{{labels('Submit place')}}"><input type="submit" ng-show="edit.ID" value="{{labels('Update place')}}"></form></section></div>